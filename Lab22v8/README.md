# Лабораторна робота No22
## Тема: LSP: виявлення порушень і альтернативи.
## Мета: Поглибити розуміння принципу підстановки Лісков (LSP), навчитися ідентифікувати його порушення в ієрархіях класів та застосовувати альтернативні підходи (композиція, зміна ієрархії) для створення LSP-сумісних рішень.

## 1. Початкова ієрархія класів (з порушенням LSP)

### Опис ієрархії
Було реалізовано базовий клас `CustomList`, який представляє змінюваний список і має метод
`Add(item)` для додавання елементів.

Від нього наслідується клас `ReadOnlyList`, який перевизначає метод `Add` та забороняє
додавання елементів, викидаючи виняток.

## 2. Аналіз порушення принципу LSP
Принцип підстановки Лісков стверджує, що об’єкти похідного класу повинні коректно
замінювати об’єкти базового класу без зміни очікуваної поведінки програми.

У даному випадку:
- Базовий клас CustomList гарантує, що метод Add додає елемент у список.
= Похідний клас ReadOnlyList порушує цей контракт, оскільки забороняє додавання
та викидає виняток.
- Клієнтський код працює з типом CustomList і очікує, що метод Add завжди
працює коректно.
Таким чином, підстановка ReadOnlyList замість CustomList призводить до
некоректної роботи програми, що є прямим порушенням LSP.
## 3. Альтернативне рішення з дотриманням LSP
**Обраний підхід**

Було обрано підхід зміни ієрархії класів шляхом використання інтерфейсів.
Функціональність читання та зміни списку була розділена.
## 4. Нова структура класів
**Опис:**

`IReadOnlyList` — інтерфейс для списків тільки для читання.

`IMutableList` — інтерфейс для змінюваних списків (успадковує `IReadOnlyList`).

`CustomList` реалізує `IMutableList`.

`ReadOnlyList` реалізує лише `IReadOnlyList` і не має методу `Add`.

## 5. Коректна робота клієнтського коду
Клієнтський код тепер чітко працює лише з тими об’єктами, які підтримують зміну стану.
`ReadOnlyList` не може бути переданий у цей метод, що виключає помилки під час виконання.
## Висновок
- Порушення принципу LSP може призводити до неочікуваних помилок у програмі.
- Наслідування не повинно змінювати поведінковий контракт базового класу.
- Розділення інтерфейсів дозволяє чітко визначити можливості об’єктів.
- Дотримання LSP підвищує надійність, читабельність та масштабованість коду.

Принцип підстановки Лісков є важливою складовою якісного об’єктно-орієнтованого
проєктування.